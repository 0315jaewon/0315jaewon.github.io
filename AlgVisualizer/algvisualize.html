<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm Visualizer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600&family=Space+Grotesk:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="algvisualize.css">
</head>
<body>
    <div class="container">
        <div class="panel">
            <div class="panel__header">
                <h1>Algorithm Visualizer</h1>
                <p class="panel__subtitle">Build a graph, then run algorithms step‑by‑step.</p>
            </div>

            <div class="panel__section">
                <div class="section__title">Interaction</div>
                <div class="segmented">
                    <button type="button" id="modeSelect" class="segment active">Select</button>
                    <button type="button" id="modeNode" class="segment">Add Node</button>
                    <button type="button" id="modeEdge" class="segment">Add Edge</button>
                </div>
                <label class="toggle">
                    <span class="toggle__label">Directed edges</span>
                    <input type="checkbox" id="directedToggle">
                    <span class="toggle__switch" aria-hidden="true"></span>
                </label>
                <p class="panel__hint">Select mode lets you edit labels and weights.</p>
            </div>

            <div class="panel__section" id="selectionSection">
                <div class="section__title">Selection</div>
                <label class="field">
                    <span>Node label</span>
                    <input type="text" id="nodeLabel" placeholder="Node" disabled>
                </label>
                <label class="field">
                    <span>Edge weight</span>
                    <input type="number" id="edgeWeight" step="1" min="0" value="1" disabled>
                </label>
                <button type="button" id="applyEdgeWeight" class="ghost" disabled>Apply Weight</button>
            </div>

            <div class="panel__section">
                <div class="section__title">Algorithm</div>
                <label class="field">
                    <span>Algorithm</span>
                    <select id="algoSelect">
                        <option value="bfs">BFS</option>
                        <option value="dfs">DFS</option>
                        <option value="dijkstra">Dijkstra</option>
                        <option value="astar">A*</option>
                    </select>
                </label>
                <div class="field-grid">
                    <label class="field">
                        <span>Start</span>
                        <select id="startNode"></select>
                    </label>
                    <label class="field">
                        <span>Goal</span>
                        <select id="goalNode"></select>
                    </label>
                </div>
                <div class="button-row">
                    <button type="button" id="runAlgo" class="primary">Run</button>
                    <button type="button" id="stepAlgo" class="ghost">Step</button>
                    <button type="button" id="playAlgo" class="ghost">Play</button>
                    <button type="button" id="pauseAlgo" class="ghost">Pause</button>
                    <button type="button" id="resetAlgo" class="ghost">Reset</button>
                </div>
                <label class="field">
                    <span>Speed</span>
                    <input type="range" id="playSpeed" min="200" max="2000" step="100" value="700">
                </label>
            </div>

            <div class="panel__section">
                <div class="section__title">Visited order</div>
                <div id="visitedList" class="visited-list">No steps yet.</div>
            </div>

            <div class="panel__section">
                <div class="section__title">Graph</div>
                <div class="field-grid">
                    <label class="field">
                        <span>Random nodes</span>
                        <input type="number" id="randNodes" min="2" max="20" value="8">
                    </label>
                    <label class="field">
                        <span>Edge %</span>
                        <input type="number" id="randDensity" min="5" max="100" value="25">
                    </label>
                </div>
                <div class="button-row">
                    <button type="button" id="randomGraph" class="ghost">Random</button>
                    <button type="button" id="clearGraph" class="ghost">Clear</button>
                </div>
            </div>

            <div class="panel__section">
                <div class="section__title">Status</div>
                <div id="status" class="status">Ready.</div>
            </div>
        </div>
        <div class="main">
            <div id="canvas" class="canvas-wrap"></div>
            <div class="helper">
                <div class="section__title">How it works</div>
                <p class="panel__help">
                    Build a graph with Add Node / Add Edge, then choose an algorithm and run it.
                    Use Step or Play to watch the traversal order.
                </p>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="algvisualize.js"></script>
</body>
</html>
